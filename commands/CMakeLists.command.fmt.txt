find_program(
  CLANG_FORMAT_BIN clang-format
)
if(CLANG_FORMAT_BIN)
  add_custom_target(
    fmt
    COMMAND ${CLANG_FORMAT_BIN}
    -i
    -style=file
    ${SOURCE_LIST_INCLUDES_CPP}
    ${SOURCE_LIST_INCLUDES_H} 
    ${SOURCE_LIST_SRC_CPP}
    ${SOURCE_LIST_SRC_H}
    ${SOURCE_LIST_TEST_FUNCTIONAL_CC}
    ${SOURCE_LIST_TEST_PERFORMANCE_CC}
    ${SOURCE_LIST_TEST_HELPERS_H}
    WORKING_DIRECTORY ${CMAKE_SOURCE_DIR}
  )
else()
  add_custom_target(
    fmt
    COMMAND ${CMAKE_COMMAND} -E echo "clang-format binary not found."
  )
endif()
